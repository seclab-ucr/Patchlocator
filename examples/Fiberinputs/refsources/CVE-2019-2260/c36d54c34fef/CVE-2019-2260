diff --git a/kernel/events/core.c b/kernel/events/core.c
index ee74fff9e977..b7f83d6b5c6f 100644
--- a/kernel/events/core.c
+++ b/kernel/events/core.c
@@ -11220,8 +11213,10 @@ static void perf_event_exit_cpu_context(int cpu) { }
 
 int perf_event_exit_cpu(unsigned int cpu)
 {
-	per_cpu(is_hotplugging, cpu) = true;
+
+	mutex_lock(&pmus_lock);
 	perf_event_exit_cpu_context(cpu);
+	mutex_unlock(&pmus_lock);
 	return 0;
 }
 
